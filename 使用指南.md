# QGpT ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

QGpT (Question Generation from Partial Tables) æ˜¯ä¸€å€‹æ”¹å–„è¡¨æ ¼æª¢ç´¢çš„æ¡†æ¶ï¼Œé€šéå¾éƒ¨åˆ†è¡¨æ ¼ç”Ÿæˆåˆæˆå•é¡Œä¾†æå‡é–‹æ”¾åŸŸè¡¨æ ¼æª¢ç´¢çš„æ•ˆæœã€‚

## ğŸ“ æª”æ¡ˆçµæ§‹

```
/Users/yaochungfan/QGpT/
â”œâ”€â”€ corpus_embedding_builder.py # èªæ–™åº«åµŒå…¥å‘é‡å»ºç«‹å™¨
â”œâ”€â”€ qgpt_search.py            # å‘½ä»¤è¡Œæœç´¢ä»‹é¢
â”œâ”€â”€ example_retrieval.py      # ç¤ºä¾‹æª¢ç´¢è…³æœ¬
â”œâ”€â”€ qgpt_*.db                # QGpT å‘é‡è³‡æ–™åº«æª”æ¡ˆ
â”œâ”€â”€ requirements.txt         # ä¾è³´å¥—ä»¶æ¸…å–®
â”œâ”€â”€ CODE_README.md          # ç¨‹å¼ç¢¼èªªæ˜
â””â”€â”€ ä½¿ç”¨æŒ‡å—.md              # æœ¬æª”æ¡ˆ
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´

```bash
pip install -r requirements.txt
```

### 2. ç”Ÿæˆè¡¨æ ¼åµŒå…¥

```bash
python corpus_embedding_builder.py
```

### 3. æœç´¢è¡¨æ ¼

#### å‘½ä»¤è¡Œæœç´¢
```bash
# åŸºæœ¬æœç´¢
python qgpt_search.py "è²¡å‹™å ±è¡¨"

# æŒ‡å®šçµæœæ•¸é‡å’Œæ ¼å¼
python qgpt_search.py "construction project" -n 10 -f json

# ç°¡å–®æ ¼å¼è¼¸å‡º
python qgpt_search.py "å­¸ç”Ÿæˆç¸¾" -f simple
```



#### é‹è¡Œç¤ºä¾‹
```bash
python example_retrieval.py
```

## ğŸ“Š æ”¯æ´çš„æœç´¢é¡å‹

- **ä¸­æ–‡æŸ¥è©¢**: "è²¡å‹™å ±è¡¨", "å»ºç¯‰å·¥ç¨‹", "å­¸ç”Ÿæˆç¸¾"
- **è‹±æ–‡æŸ¥è©¢**: "financial statements", "construction project", "student information"
- **æ··åˆæŸ¥è©¢**: æ”¯æ´ä¸­è‹±æ–‡æ··åˆçš„æŸ¥è©¢

## ğŸ›ï¸ å‘½ä»¤è¡Œé¸é …

### qgpt_search.py é¸é …

- `query`: æœç´¢æŸ¥è©¢å­—ç¬¦ä¸² (å¿…é ˆ)
- `-n, --limit`: è¿”å›çµæœæ•¸é‡ (é è¨­: 5)
- `-f, --format`: è¼¸å‡ºæ ¼å¼
  - `detailed`: è©³ç´°æ ¼å¼ (é è¨­)
  - `simple`: ç°¡å–®æ ¼å¼
  - `json`: JSON æ ¼å¼
- `--db`: è³‡æ–™åº«è·¯å¾‘ (è‡ªå‹•åµæ¸¬ qgpt_*.db æª”æ¡ˆ)
- `--collection`: é›†åˆåç¨± (è‡ªå‹•å¾è³‡æ–™åº«åç¨±æ¨å°)

### ä½¿ç”¨ç¯„ä¾‹

```bash
# è©³ç´°æ ¼å¼æœç´¢
python qgpt_search.py "éŠ€è¡Œåˆ©ç‡"

# ç°¡å–®æ ¼å¼ï¼Œé™åˆ¶ 3 å€‹çµæœ
python qgpt_search.py "bank interest" -n 3 -f simple

# JSON æ ¼å¼è¼¸å‡º
python qgpt_search.py "æ•™è‚²è³‡æº" -f json

# æŸ¥çœ‹å¹«åŠ©
python qgpt_search.py --help
```

## ğŸ”§ ç³»çµ±æ¶æ§‹

1. **è³‡æ–™è¼‰å…¥**: å¾ Corpora ç›®éŒ„è¼‰å…¥è¡¨æ ¼ JSON è³‡æ–™
2. **æ–‡å­—é è™•ç†**: æ¸…ç†å’Œæ ¼å¼åŒ–è¡¨æ ¼æ–‡å­—
3. **åµŒå…¥ç”Ÿæˆ**: ä½¿ç”¨é è¨“ç·´æ¨¡å‹ç”Ÿæˆ 768 ç¶­å‘é‡
4. **å‘é‡å„²å­˜**: ä½¿ç”¨ Milvus å»ºç«‹å‘é‡ç´¢å¼•
5. **èªç¾©æœç´¢**: åŸºæ–¼å‘é‡ç›¸ä¼¼åº¦é€²è¡Œæª¢ç´¢

## ğŸ“ˆ æ•ˆèƒ½æŒ‡æ¨™

- **è³‡æ–™é‡**: 295 å€‹è¡¨æ ¼æ–‡ä»¶
- **å‘é‡ç¶­åº¦**: 768 ç¶­
- **æœç´¢é€Ÿåº¦**: æ¯«ç§’ç´šéŸ¿æ‡‰
- **ç›¸ä¼¼åº¦ç¯„åœ**: 0.0 - 1.0 (è¶Šé«˜è¶Šç›¸ä¼¼)

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æ‰¾ä¸åˆ°é›†åˆéŒ¯èª¤**
   ```
   éŒ¯èª¤ï¼šæ‰¾ä¸åˆ°é›†åˆ 'qgpt_table_embeddings'
   ```
   è§£æ±ºæ–¹æ¡ˆ: å…ˆåŸ·è¡Œ `python corpus_embedding_builder.py` å»ºç«‹è³‡æ–™åº«

2. **ç·¨ç¢¼éŒ¯èª¤**
   ç¢ºä¿çµ‚ç«¯æ”¯æ´ UTF-8 ç·¨ç¢¼ï¼Œç‰¹åˆ¥æ˜¯åœ¨ Windows ç³»çµ±ä¸Š

3. **è¨˜æ†¶é«”ä¸è¶³**
   è™•ç†å¤§é‡è³‡æ–™æ™‚å¯èƒ½éœ€è¦æ›´å¤šè¨˜æ†¶é«”ï¼Œè€ƒæ…®åˆ†æ‰¹è™•ç†

### ä¾è³´å•é¡Œ

å¦‚æœé‡åˆ°å¥—ä»¶ç›¸é—œå•é¡Œï¼Œè«‹ç¢ºä¿ï¼š
- Python ç‰ˆæœ¬ >= 3.8
- å·²å®‰è£æ‰€æœ‰å¿…è¦ä¾è³´ï¼š`pip install -r requirements.txt`

## ğŸ“ ç›¸é—œè«–æ–‡

å¦‚æœæ‚¨ä½¿ç”¨äº†é€™å€‹ç³»çµ±ï¼Œè«‹å¼•ç”¨æˆ‘å€‘çš„è«–æ–‡ï¼š

```bibtex
@inproceedings{
liang2025improving,
title={Improving Table Retrieval with Question Generation from Partial Tables},
author={Hsing-Ping Liang and Che-Wei Chang and Yao-Chung Fan},
booktitle={The 4th Table Representation Learning Workshop at ACL 2025},
year={2025},
url={https://openreview.net/forum?id=Q8HOV0UMwA}
}
```

## ğŸ“§ è¯çµ¡æ–¹å¼

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯çµ¡ï¼šcc3374twa@gmail.com

## ğŸ”„ æ›´æ–°æ—¥èªŒ

- **2025/09/09**: é‡æ§‹ç¨‹å¼ç¢¼ï¼Œæ”¹å–„å‘½åè¦ç¯„å’Œæ–‡ä»¶çµæ§‹
- **2025/09/08**: ç™¼å¸ƒ Hugging Face è³‡æ–™é›†
- **åˆå§‹ç‰ˆæœ¬**: å¯¦ç¾åŸºæœ¬çš„è¡¨æ ¼æª¢ç´¢åŠŸèƒ½
